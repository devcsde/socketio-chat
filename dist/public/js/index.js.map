{"version":3,"sources":["../../../public/js/index.js"],"names":["socket","io","on","console","log","message","li","$","text","from","append","a","attr","url","e","preventDefault","emit","val","locationButton","navigator","geolocation","alert","getCurrentPosition","position","latitude","coords","longitude"],"mappings":";;AAAA,IAAIA,SAASC,IAAb;;AAEAD,OAAOE,EAAP,CAAU,SAAV,EAAqB,YAAU;AAC3BC,YAAQC,GAAR,CAAY,qBAAZ;AACH,CAFD;;AAIAJ,OAAOE,EAAP,CAAU,YAAV,EAAwB,YAAU;AAC9BC,YAAQC,GAAR,CAAY,0BAAZ;AACH,CAFD;;AAIAJ,OAAOE,EAAP,CAAU,YAAV,EAAwB,UAACG,OAAD,EAAa;AACjCF,YAAQC,GAAR,CAAY,aAAZ,EAA2BC,OAA3B;AACA,QAAIC,KAAKC,EAAE,WAAF,CAAT;AACAD,OAAGE,IAAH,CAAWH,QAAQI,IAAnB,UAA4BJ,QAAQG,IAApC;AACAD,MAAE,WAAF,EAAeG,MAAf,CAAsBJ,EAAtB;AACH,CALD;;AAOAN,OAAOE,EAAP,CAAU,oBAAV,EAAgC,UAACG,OAAD,EAAa;AACzC,QAAIC,KAAKC,EAAE,WAAF,CAAT;AACA,QAAII,IAAIJ,EAAE,4CAAF,CAAR;;AAEAD,OAAGE,IAAH,CAAWH,QAAQI,IAAnB;AACAE,MAAEC,IAAF,CAAO,MAAP,EAAeP,QAAQQ,GAAvB;AACAP,OAAGI,MAAH,CAAUC,CAAV;AACAJ,MAAE,WAAF,EAAeG,MAAf,CAAsBJ,EAAtB;AAEH,CATD;;AAWAC,EAAE,eAAF,EAAmBL,EAAnB,CAAsB,QAAtB,EAAgC,UAAUY,CAAV,EAAa;AAC1CA,MAAEC,cAAF;;AAEAf,WAAOgB,IAAP,CAAY,eAAZ,EAA6B;AACzBP,cAAM,MADmB;AAExBD,cAAMD,EAAE,gBAAF,EAAoBU,GAApB;AAFkB,KAA7B,EAGI,YAAY,CAEf,CALD;AAMF,CATD;;AAWA,IAAIC,iBAAiBX,EAAE,gBAAF,CAArB;AACAW,eAAehB,EAAf,CAAkB,OAAlB,EAA2B,YAAY;AACpC,QAAG,CAACiB,UAAUC,WAAd,EAA2B;AACvB,eAAOC,MAAM,4CAAN,CAAP;AACH;AACDF,cAAUC,WAAV,CAAsBE,kBAAtB,CAAyC,UAAUC,QAAV,EAAoB;AACzDvB,eAAOgB,IAAP,CAAY,uBAAZ,EAAqC;AACjCQ,sBAAUD,SAASE,MAAT,CAAgBD,QADO;AAEjCE,uBAAWH,SAASE,MAAT,CAAgBC;AAFM,SAArC;AAIH,KALD,EAKG,YAAY;AACXL,cAAM,2BAAN;AACH,KAPD;AAQF,CAZD","file":"index.js","sourcesContent":["let socket = io();\r\n\r\nsocket.on(\"connect\", function(){\r\n    console.log(\"Connected to server\");\r\n});\r\n\r\nsocket.on(\"disconnect\", function(){\r\n    console.log(\"Disconnected from server\");\r\n});\r\n\r\nsocket.on(\"newMessage\", (message) => {\r\n    console.log(\"New message\", message);\r\n    let li = $(\"<li></li>\");\r\n    li.text(`${message.from}: ${message.text}`);\r\n    $(\"#messages\").append(li);\r\n});\r\n\r\nsocket.on(\"newLocationMessage\", (message) => {\r\n    let li = $(\"<li></li>\");\r\n    let a = $(\"<a target='_blank'>My current location</a>\");\r\n\r\n    li.text(`${message.from}: `);\r\n    a.attr(\"href\", message.url);\r\n    li.append(a);\r\n    $(\"#messages\").append(li);\r\n    \r\n});\r\n\r\n$(\"#message-form\").on(\"submit\", function (e) {\r\n   e.preventDefault();\r\n\r\n   socket.emit(\"createMessage\", {\r\n       from: \"User\",\r\n        text: $(\"[name=message]\").val()\r\n    }, function () {\r\n       \r\n   });\r\n});\r\n\r\nvar locationButton = $(\"#send-location\");\r\nlocationButton.on(\"click\", function () {\r\n   if(!navigator.geolocation) {\r\n       return alert(\"Geolocation not supported by your browser.\")\r\n   }\r\n   navigator.geolocation.getCurrentPosition(function (position) {\r\n       socket.emit(\"createLocationMessage\", {\r\n           latitude: position.coords.latitude,\r\n           longitude: position.coords.longitude\r\n       });\r\n   }, function () {\r\n       alert(\"Unable to fetch location.\")\r\n   });\r\n});"]}